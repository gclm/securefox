# 快速入门

<cite>
**本文档中引用的文件**  
- [README.md](file://README.md)
- [cli/src/main.rs](file://cli/src/main.rs)
- [cli/src/commands/init.rs](file://cli/src/commands/init.rs)
- [cli/src/commands/add.rs](file://cli/src/commands/add.rs)
- [cli/src/commands/show.rs](file://cli/src/commands/show.rs)
- [cli/src/commands/unlock.rs](file://cli/src/commands/unlock.rs)
- [cli/src/utils.rs](file://cli/src/utils.rs)
- [core/src/config.rs](file://core/src/config.rs)
- [core/src/models.rs](file://core/src/models.rs)
- [extension/package.json](file://extension/package.json)
</cite>

## 目录
1. [简介](#简介)
2. [安装](#安装)
3. [首次设置](#首次设置)
4. [基本使用](#基本使用)
5. [配置](#配置)
6. [浏览器扩展集成](#浏览器扩展集成)

## 简介
SecureFox 是一个安全的本地优先密码管理器，支持 Git 同步和现代浏览器扩展。本指南将引导您完成从安装到基本使用的整个过程，帮助您快速上手并安全地管理您的密码。

## 安装

### 预编译二进制文件
您可以从 [GitHub Releases](https://github.com/gclm/securefox/releases) 下载适用于您平台的最新预编译二进制文件。

**macOS:**
```bash
# Intel (x86_64)
curl -L https://github.com/gclm/securefox/releases/latest/download/securefox-x86_64-apple-darwin.tar.gz | tar xz
sudo mv securefox /usr/local/bin/

# Apple Silicon (aarch64)
curl -L https://github.com/gclm/securefox/releases/latest/download/securefox-aarch64-apple-darwin.tar.gz | tar xz
sudo mv securefox /usr/local/bin/
```

**Linux:**
```bash
# x86_64
curl -L https://github.com/gclm/securefox/releases/latest/download/securefox-x86_64-unknown-linux-gnu.tar.gz | tar xz
sudo mv securefox /usr/local/bin/

# ARM64
curl -L https://github.com/gclm/securefox/releases/latest/download/securefox-aarch64-unknown-linux-gnu.tar.gz | tar xz
sudo mv securefox /usr/local/bin/
```

**Windows:**
从发布页面下载 `securefox-x86_64-pc-windows-msvc.zip` 并解压到您想要的位置。

### 浏览器扩展
1. 从 [GitHub Releases](https://github.com/gclm/securefox/releases) 下载扩展
   - **Chrome/Edge**: `securefox-extension-chrome.zip`
   - **Firefox**: `securefox-extension-firefox.zip`

2. 在浏览器中安装：
   - **Chrome/Edge**: 导航到 `chrome://extensions/`，启用"开发者模式"，然后加载解压的扩展
   - **Firefox**: 导航到 `about:debugging#/runtime/this-firefox`，点击"加载临时附加组件"，然后选择扩展

### 从源码构建
如果您想从源码构建 SecureFox，请确保已安装以下依赖：
- Rust 1.70+（推荐使用 `rustup`）
- Node.js 20+ 和 pnpm
- Git

```bash
# 克隆仓库
git clone https://github.com/gclm/securefox.git
cd securefox

# 构建 CLI 和 API 服务器
cargo build --release --all-features

# 构建浏览器扩展
cd extension
pnpm install
pnpm build        # 用于 Chrome
pnpm build:firefox # 用于 Firefox

# 安装 CLI
cargo install --path cli
```

**Section sources**
- [README.md](file://README.md#L43-L107)

## 首次设置

### 初始化保险库
安装完成后，您需要初始化一个新的保险库。这将创建一个加密的存储空间来保存您的密码。

```bash
securefox init
```

此命令会提示您输入主密码。请务必选择一个强密码（12个字符以上，包含大小写字母、数字和符号），因为这是保护您所有数据的关键。

您还可以指定 KDF 算法：
```bash
securefox init --kdf argon2
```
Argon2 提供更高的安全性，但解锁速度稍慢；PBKDF2 是标准选择，速度更快。

**Section sources**
- [README.md](file://README.md#L116-L117)
- [cli/src/commands/init.rs](file://cli/src/commands/init.rs#L7-L88)

### 解锁保险库
在使用保险库之前，您需要先解锁它：

```bash
securefox unlock
```

此命令会提示您输入主密码。解锁后，您可以在会话期间执行各种操作，如添加、查看和编辑密码条目。

您还可以使用 `--remember` 选项让系统记住您的密码（在支持的平台上使用系统密钥链）：

```bash
securefox unlock --remember
```

**Section sources**
- [README.md](file://README.md#L143)
- [cli/src/commands/unlock.rs](file://cli/src/commands/unlock.rs#L1)
- [cli/src/utils.rs](file://cli/src/utils.rs#L6-L23)

## 基本使用

### 添加密码条目
初始化并解锁保险库后，您可以开始添加密码条目：

```bash
securefox add github.com --username user@example.com
```

此命令会提示您输入密码。您也可以让 SecureFox 生成一个强密码：

```bash
securefox add github.com --username user@example.com --generate
```

### 查看密码条目
要查看已保存的密码条目，使用 `show` 命令：

```bash
securefox show github.com
```

此命令会显示条目的详细信息，包括用户名和密码。您还可以使用 `--copy` 选项将密码复制到剪贴板：

```bash
securefox show github.com --copy
```

### 列出所有条目
要查看保险库中的所有条目，使用 `list` 命令：

```bash
securefox list
```

### 启动 API 服务器
为了与浏览器扩展通信，您需要启动 API 服务器：

```bash
securefox serve
```

此命令启动一个本地 HTTP 服务器（默认在 127.0.0.1:8787），允许浏览器扩展访问您的密码数据。

**Section sources**
- [README.md](file://README.md#L119-L132)
- [cli/src/commands/add.rs](file://cli/src/commands/add.rs#L8-L108)
- [cli/src/commands/show.rs](file://cli/src/commands/show.rs#L8-L112)
- [cli/src/main.rs](file://cli/src/main.rs#L269-L327)

## 配置

SecureFox 使用 `~/.securefox/config.toml` 文件进行配置。您可以在该文件中设置各种选项，如 API 服务器的主机和端口、同步设置等。

创建 `~/.securefox/config.toml` 文件：

```toml
[vault]
path = "~/.securefox"
kdf = "argon2"  # 或 "pbkdf2"

[api]
host = "127.0.0.1"
port = 8787
timeout = 300  # 秒

[sync]
enabled = true
remote = "git@github.com:username/securefox-vault.git"
auto_pull = true
auto_push = false
interval = 300  # 秒
```

配置文件中的 `vault.path` 指定了保险库的存储位置，`api.host` 和 `api.port` 指定了 API 服务器的绑定地址和端口，`sync` 部分配置了 Git 同步的相关设置。

**Section sources**
- [README.md](file://README.md#L205-L223)
- [core/src/config.rs](file://core/src/config.rs#L1-L98)
- [core/src/models.rs](file://core/src/models.rs#L328-L381)

## 浏览器扩展集成

SecureFox 的浏览器扩展提供了直观的用户界面，让您可以在浏览网页时轻松管理密码。

### 扩展功能
- **自动填充**: 在登录页面自动检测并填充保存的凭据
- **密码生成**: 在注册页面生成强密码
- **TOTP 支持**: 内置 2FA 代码生成器
- **安全笔记**: 存储和管理安全笔记

### 使用扩展
1. 确保 `securefox serve` 命令正在运行
2. 在浏览器中打开需要登录的网站
3. 点击 SecureFox 扩展图标
4. 选择要填充的账户
5. 输入主密码解锁（如果需要）
6. 点击"自动填充"按钮

扩展会与本地 API 服务器通信，获取加密的密码数据，并在您的设备上解密后填充到网页表单中。

**Section sources**
- [README.md](file://README.md#L28-L31)
- [extension/package.json](file://extension/package.json#L1-L47)